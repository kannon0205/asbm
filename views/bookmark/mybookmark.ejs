<% const localmeta = {
  title: 'マイブックマーク | ASBM',
  desc: 'desc'
};
%>

<% const status = {
  nav1:'inactive',
  nav2:'inactive',
  nav3:'inactive',
  nav4:'active'
};
%>

<!--common-->
<%- include('../partials/header', {meta: localmeta}); %>
<!--/common-->

<!--bottomNav-->
<%- include('../partials/bottomNav', {status: status}); %>
<!--/bottomNav-->

<div class="fixed-btn flex-container flex-center bg7" id="openModal1">
  <p><i class="fas fa-bars"></i></p>
</div>

<div class="bookmark-wrapper bg5">
  <div class="wide">

    <section>
      <!--header-->
      <div class="header tc1 shadow">
        <h1>マイブックマーク</h1>
      </div>
      <!--/header-->
      <% user_bookmarks.forEach((user_bookmark) => { %>

      <section class="bookmark-container shadow bg1">
        <div class="ogp">
          <h2 class="title bold"><%= user_bookmark.title %></h2>
          <p class="url tc3"><a href="<%= user_bookmark.url %>" target="_blank" rel="noopener noreferrer"><%= user_bookmark.url %></a></p>
          <p><%= user_bookmark.site_name %></p>
        </div>
        <p class="memo"><%= user_bookmark.memo %></p>
        <p>
          <% user_bookmark.bookmarkTags.forEach((bookmarkTag) => {%>
          #<a class="tc5" href="<%= '/tag/' + bookmarkTag.id %>"><%= bookmarkTag.name -%></a>
          <% }); %>
        </p>
        <div class="edit flex-container">
          <p><a href="<%='/mybookmark/delete/' + user_bookmark.id %>"><i class="fas fa-trash"></i></a></p>
          <p><a href="<%='/mybookmark/edit/' + user_bookmark.id %>"><i class="fas fa-edit"></i></a></p>
        </div>
      </section>

      <% }); %>
    </section>

  </div>
</div>

<div id="modalArea1" class="modalArea">
  <div id="modalBg1" class="modalBg"></div>
  <div class="modalWrapper">

    <section class="modal-container bg1">
      <nav class="modal-container bookmark-menu">
        <ul>
          <li><a href="/bookmark/create">ブックマーク登録</a></li>
          <li><a href="">使用タグ一覧</a></li>
        </ul>
      </nav>
    </section>

    <div id="closeModal1" class="closeModal">
      ×
    </div>
  </div>
</div>

<script>
  (function() {
    const modalArea1 = document.getElementById('modalArea1');
    const openModal1 = document.getElementById('openModal1');
    const closeModal1 = document.getElementById('closeModal1');
    const modalBg1 = document.getElementById('modalBg1');
    const toggle1 = [openModal1, closeModal1, modalBg1];

    for (let i = 0, len1 = toggle1.length; i < len1; i++) {
      toggle1[i].addEventListener('click', function() {
        modalArea1.classList.toggle('is-show');
      }, false);
    }
  }());

</script>

<!--common-->
<%- include('../partials/footer'); %>
<!--/common-->
